(self.webpackChunk_aragon_ods=self.webpackChunk_aragon_ods||[]).push([[1168],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./src/utils/formatterUtils/formatterUtils.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FormatExampleTable:()=>FormatExampleTable,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_runner_work_ods_ods_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/formatterUtils/formatterUtilsDefinitions.ts"),_formatterUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/formatterUtils/formatterUtils.ts");const FormatExampleTable=({values,formatShort,formatLong})=>{const _components=Object.assign({table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,_home_runner_work_ods_ods_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_4__.ah)());return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.table,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.thead,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{className:"text-left",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.th,{children:"VALUE"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.th,{children:formatLong}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.th,{children:formatShort})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.tbody,{children:values.map((value=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:value}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:_formatterUtils__WEBPACK_IMPORTED_MODULE_3__.K.formatNumber(value,{format:formatLong})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:_formatterUtils__WEBPACK_IMPORTED_MODULE_3__.K.formatNumber(value,{format:formatShort})})]},value)))})]})};function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",ul:"ul",li:"li",strong:"strong",h3:"h3",pre:"pre"},(0,_home_runner_work_ods_ods_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__.h_,{title:"Utilities/Formatter"}),"\n","\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"formatter-utils",children:"Formatter Utils"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Use the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"formatterUtils"})," utility to format numbers and dates (soon) across your application."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"number-formatting",children:"Number Formatting"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"formatNumber"})," utility currently supports 5 formats, each with two variants based on the type of data being\nformatted:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Long"}),": The full value is displayed when there is enough space and the user needs precision."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Short"}),": An abbreviated value is shown when space is limited and less precision is required."]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"usage",children:"Usage"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Import the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"formatterUtils"})," utility and start using it as follows:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-typescript",children:"import { NumberFormat, formatterUtils } from '@aragon/ods';\n\nconst formattedQuantity = formatterUtils.formatNumber(amount, { format: NumberFormat.TOKEN_AMOUNT_SHORT });\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"generic-quantity",children:"Generic quantity"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Generic quantities represent anything countable, such as members, proposals, votes, block numbers, etc."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Examples"}),":"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormatExampleTable,{values:[0,123,1234,1234567,1234567890,1234567890123,0x462d53c8abac0],formatShort:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.GENERIC_SHORT,formatLong:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.GENERIC_LONG}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"fiat-totals",children:"FIAT totals"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Fiat totals represent any summed monetary value, such as treasury amounts or fiat equivalents for withdrawals."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Examples"}),":"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormatExampleTable,{values:[0,.0012345678,.012345678,.12345678,123.45678,1234.56789,1234567.89012,1234567890.12345,1234567890123.4568,1234567890123456.8],formatShort:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.FIAT_TOTAL_SHORT,formatLong:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.FIAT_TOTAL_LONG}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"token-amounts",children:"Token amounts"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Token amounts represent whole or fractional amounts of tokens, such as withdrawals, balances, or voting power."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Examples"}),":"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormatExampleTable,{values:[0,.0012,.012345678901234568,.12345678901234566,123.4567,1234,1234.5678,1234567.8901,1234567890.1234,1234567890123.4568,1234567890123456.8],formatShort:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.TOKEN_AMOUNT_SHORT,formatLong:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.TOKEN_AMOUNT_LONG}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"token-prices",children:"Token prices"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Token prices represent the actual price of a specific token. For token price formatting, the long and short variants are\nthe same."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Examples"}),":"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormatExampleTable,{values:[0,.0012345678,.012345678,.12345678,123.45678,1234.56789,1234567.89012,1234567890.12345,1234567890123.4568,1234567890123456.8],formatShort:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.TOKEN_PRICE,formatLong:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.TOKEN_PRICE}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"percentages",children:"Percentages"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Percentages are used in various contexts, such as describing voting outcomes, governance parameters, or voting power out\nof the total supply."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.strong,{children:"Examples"}),":"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FormatExampleTable,{values:[0,12345e-8,.0012345,.012345,.12345,.510001,.9985,.999001,1],formatShort:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.PERCENTAGE_SHORT,formatLong:_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_2__.y.PERCENTAGE_LONG})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_home_runner_work_ods_ods_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}},"./src/utils/formatterUtils/formatterUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>formatterUtils});var _formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/formatterUtils/formatterUtilsDefinitions.ts");const cache={};const formatterUtils=new class FormatterUtils{numberLocale="en";currencyLocale="USD";baseSymbolRanges=[{value:1e15,symbol:value=>" x 10^"+(this.getDecimalPlaces(value)-1)},{value:1e12,symbol:()=>"T"},{value:1e9,symbol:()=>"B"},{value:1e6,symbol:()=>"M"},{value:1e3,symbol:()=>"K"}];formatNumber=(value,options={})=>{const{format=_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_0__.y.GENERIC_LONG,fallback=null}=options,{fixedFractionDigits,maxFractionDigits,minFractionDigits,maxSignificantDigits,useBaseSymbol,minDisplayValue,maxDisplayValue,isCurrency,isPercentage,fallback:fallbackFormat,displayFallback}=_formatterUtilsDefinitions__WEBPACK_IMPORTED_MODULE_0__.i[format],parsedValue="number"==typeof value?value:parseFloat(value??"");if(Boolean(displayFallback?.(parsedValue))||isNaN(parsedValue))return fallbackFormat??fallback;const fixedFractionDigitsOption=this.getDynamicOption(parsedValue,fixedFractionDigits),maxSignificantDigitsOption=this.getDynamicOption(parsedValue,maxSignificantDigits),maxDigits=maxSignificantDigitsOption?this.significantDigitsToFractionDigits(parsedValue,maxSignificantDigitsOption):fixedFractionDigitsOption??maxFractionDigits,minDigits=fixedFractionDigitsOption??minFractionDigits,cacheKey=`number/${this.numberLocale}/${this.currencyLocale}/${isCurrency??"-"}/${maxDigits??"-"}/${minDigits??"-"}`;cache[cacheKey]||(cache[cacheKey]=new Intl.NumberFormat(this.numberLocale,{style:isCurrency?"currency":void 0,currency:isCurrency?this.currencyLocale:void 0,maximumFractionDigits:maxDigits,minimumFractionDigits:minDigits}));const baseRange=this.baseSymbolRanges.find((range=>Math.abs(parsedValue)>=range.value)),baseRangeDenominator=parsedValue>1e15?10**(this.getDecimalPlaces(parsedValue)-1):baseRange?.value??1;let processedValue=isPercentage?100*parsedValue:parsedValue;const useMinDisplayValue=null!=minDisplayValue&&processedValue>0&&processedValue<minDisplayValue,useMaxDisplayValue=null!=maxDisplayValue&&processedValue<100&&processedValue>maxDisplayValue;useMinDisplayValue?processedValue=minDisplayValue:useMaxDisplayValue?processedValue=maxDisplayValue:useBaseSymbol&&(processedValue=parsedValue/baseRangeDenominator);let formattedValue=cache[cacheKey].format(processedValue);return useBaseSymbol&&null!=baseRange?formattedValue=`${formattedValue}${baseRange.symbol(parsedValue)}`:useMinDisplayValue?formattedValue=`<${formattedValue}`:useMaxDisplayValue&&(formattedValue=`>${formattedValue}`),isPercentage?`${formattedValue}%`:formattedValue};getDynamicOption=(value,option)=>"function"==typeof option?option(value):option;getDecimalPlaces=value=>value.toString().split(".")[0].length;significantDigitsToFractionDigits=(value,digits)=>0===value?0:Math.floor(digits-Math.log10(value))}},"./src/utils/formatterUtils/formatterUtilsDefinitions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>numberFormats,y:()=>NumberFormat});let NumberFormat=function(NumberFormat){return NumberFormat.GENERIC_SHORT="GENERIC_SHORT",NumberFormat.GENERIC_LONG="GENERIC_LONG",NumberFormat.FIAT_TOTAL_SHORT="FIAT_TOTAL_SHORT",NumberFormat.FIAT_TOTAL_LONG="FIAT_TOTAL_LONG",NumberFormat.TOKEN_AMOUNT_SHORT="TOKEN_AMOUNT_SHORT",NumberFormat.TOKEN_AMOUNT_LONG="TOKEN_AMOUNT_LONG",NumberFormat.TOKEN_PRICE="TOKEN_PRICE",NumberFormat.PERCENTAGE_SHORT="PERCENTAGE_SHORT",NumberFormat.PERCENTAGE_LONG="PERCENTAGE_LONG",NumberFormat}({});const numberFormats={[NumberFormat.GENERIC_SHORT]:{maxFractionDigits:2,useBaseSymbol:!0},[NumberFormat.GENERIC_LONG]:{fixedFractionDigits:0},[NumberFormat.FIAT_TOTAL_SHORT]:{fixedFractionDigits:2,minDisplayValue:.01,useBaseSymbol:!0,isCurrency:!0},[NumberFormat.FIAT_TOTAL_LONG]:{fixedFractionDigits:2,minDisplayValue:.01,isCurrency:!0},[NumberFormat.TOKEN_AMOUNT_SHORT]:{maxFractionDigits:2,useBaseSymbol:!0,minDisplayValue:.01},[NumberFormat.TOKEN_AMOUNT_LONG]:{maxFractionDigits:18},[NumberFormat.TOKEN_PRICE]:{fixedFractionDigits:value=>value>=1?2:void 0,maxSignificantDigits:value=>value<1?4:void 0,isCurrency:!0,fallback:"Unknown",displayFallback:value=>isNaN(value)||0===value},[NumberFormat.PERCENTAGE_SHORT]:{maxFractionDigits:1,minDisplayValue:.1,maxDisplayValue:99.9,isPercentage:!0},[NumberFormat.PERCENTAGE_LONG]:{fixedFractionDigits:2,isPercentage:!0}}},"./node_modules/memoizerific sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/memoizerific sync recursive",module.exports=webpackEmptyContext}}]);